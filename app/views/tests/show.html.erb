<h1><%= t('test.show.title') %></h1>

<p><strong><%= t('test.show.repository_link') %>:</strong> <%= @test.repository_link %></p>
<p><strong><%= t('test.show.project_link') %>:</strong> <%= @test.project_link %></p>
<p><strong><%= t('test.show.readme_link') %>:</strong> <%= @test.readme_link %></p>

<p>
  <%= link_to t('test.show.edit'), edit_test_path(@test) %> |
  <%= link_to t('test.show.back'), tests_url %>
</p>

<%= link_to t('test.show.new_battle'), new_test_tests_battle_path(@test) %>

<h2><%= t('test.show.tests_battles') %></h2>
<% @test.tests_battles.each do |tests_battle| %>
  <%= form_with(model: tests_battle, url: test_tests_battle_path(@test, tests_battle), local: true) do |form| %>
    <h3><%= t('test.show.battle') %>: <%= form.select :battle, TestsBattle::BATTLE %></h3>
    <p><strong><%= t('test.show.milestone_release_link') %>:</strong> <%= form.text_field :milestone_release_link %></p>
    <p><strong><%= t('test.show.pull_request_release_link') %>:</strong> <%= form.text_field :pull_request_release_link %></p>

    <h4> Issues:</h4>
    <% tests_battle.tests_issues.each do |tests_issue| %>
      <%= form.fields_for tests_issue do |tests_issue_form| %>
        <p><strong><%= t('test.show.issue_link') %>:</strong> <%= tests_issue_form.text_field :issue_link %></p>
        <p><strong><%= t('test.show.pull_request_link') %>:</strong> <%= tests_issue_form.text_field :pull_request_link %></p>
      <% end %>
    <% end %>

    <%= form.submit t('test.show.form.update') %>
  <% end %>
<% end %>

<br>
